# ì¦ê¶Œ ìë¬¸ ì‹œìŠ¤í…œ (Balance One)

ì¦ê¶Œ ìë¬¸ ì‹œìŠ¤í…œì€ FastAPI ê¸°ë°˜ì˜ ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ìœ¼ë¡œ, ì‚¬ìš©ìë“¤ì—ê²Œ ë§ì¶¤í˜• í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ì²œê³¼ ìë¬¸ ì„œë¹„ìŠ¤ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

## ğŸŒŸ ì£¼ìš” ê¸°ëŠ¥

- **ì‚¬ìš©ì ê´€ë¦¬**
  - íšŒì›ê°€ì… ë° ë¡œê·¸ì¸
  - JWT ê¸°ë°˜ ì¸ì¦
  - ê³„ì • ê´€ë¦¬

- **ê³„ì¢Œ ê´€ë¦¬**
  - ì…ê¸ˆ/ì¶œê¸ˆ
  - ì”ê³  ì¡°íšŒ
  - ê±°ë˜ ë‚´ì—­ ì¡°íšŒ

- **ìë¬¸ ì‹œìŠ¤í…œ**
  - í¬íŠ¸í´ë¦¬ì˜¤ ìœ í˜• ì„ íƒ (ê³µê²©í˜•/ê· í˜•í˜•)
  - ìë™ í¬íŠ¸í´ë¦¬ì˜¤ ì¶”ì²œ
  - ìë¬¸ ë‚´ì—­ ì¡°íšŒ

- **ê´€ë¦¬ì ê¸°ëŠ¥**
  - ì¦ê¶Œ ë“±ë¡/ìˆ˜ì •/ì‚­ì œ
  - ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ

## ğŸ›  ê¸°ìˆ  ìŠ¤íƒ

- **ë°±ì—”ë“œ**
  - FastAPI
  - SQLAlchemy
  - MySQL
  - JWT ì¸ì¦

- **ê°œë°œ ë„êµ¬**
  - Docker
  - Docker Compose
  - phpMyAdmin

## ğŸ“ í”„ë¡œì íŠ¸ êµ¬ì¡°

```
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ api/            # API ì—”ë“œí¬ì¸íŠ¸
â”‚   â”œâ”€â”€ core/           # í•µì‹¬ ì„¤ì •
â”‚   â”œâ”€â”€ models/         # ë°ì´í„°ë² ì´ìŠ¤ ëª¨ë¸
â”‚   â”œâ”€â”€ schemas/        # Pydantic ìŠ¤í‚¤ë§ˆ
â”‚   â””â”€â”€ utils/          # ìœ í‹¸ë¦¬í‹° í•¨ìˆ˜
â”œâ”€â”€ alembic/            # ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜
â”œâ”€â”€ tests/              # í…ŒìŠ¤íŠ¸ ì½”ë“œ
â”œâ”€â”€ Dockerfile          # Docker ì„¤ì •
â”œâ”€â”€ docker-compose.yml  # Docker Compose ì„¤ì •
â””â”€â”€ requirements.txt    # Python íŒ¨í‚¤ì§€ ì˜ì¡´ì„±
```

## ğŸš€ ì‹œì‘í•˜ê¸°

### 1. í™˜ê²½ ì„¤ì •

```bash
# ì €ì¥ì†Œ í´ë¡ 
git clone [repository-url]

# í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ ì´ë™
cd balance-one

# Docker ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker-compose up -d
```

### 2. ì„œë¹„ìŠ¤ ì ‘ê·¼

- **FastAPI ì• í”Œë¦¬ì¼€ì´ì…˜**: http://localhost:8000
- **API ë¬¸ì„œ**: http://localhost:8000/docs
- **phpMyAdmin**: http://localhost:8080

### 3. í™˜ê²½ ë³€ìˆ˜ ì„¤ì •

`.env` íŒŒì¼ì„ ìƒì„±í•˜ê³  ë‹¤ìŒ í™˜ê²½ ë³€ìˆ˜ë¥¼ ì„¤ì •í•©ë‹ˆë‹¤:

```env
# ë°ì´í„°ë² ì´ìŠ¤
DATABASE_URL=mysql+pymysql://user:password@db:3306/balance_one

# ë³´ì•ˆ
SECRET_KEY=your-secret-key-here
REFRESH_SECRET_KEY=your-refresh-secret-key-here
ALGORITHM=HS256
ACCESS_TOKEN_EXPIRE_MINUTES=30

# í™˜ê²½
ENVIRONMENT=development
```

## ğŸ”§ Docker ëª…ë ¹ì–´

```bash
# ì»¨í…Œì´ë„ˆ ì‹¤í–‰
docker-compose up -d

# ì»¨í…Œì´ë„ˆ ì¤‘ì§€
docker-compose down

# ë¡œê·¸ í™•ì¸
docker-compose logs -f

# ë°ì´í„°ë² ì´ìŠ¤ ì´ˆê¸°í™”
docker-compose down -v
docker-compose up -d
```

## ğŸš€ ì„œë²„ ì‹¤í–‰

### ê°œë°œ í™˜ê²½
```bash
# ê°œë°œ ì„œë²„ ì‹¤í–‰ (ìë™ ë¦¬ë¡œë“œ)
uvicorn app.main:app --reload --host 0.0.0.0 --port 8000

# ê°œë°œ ì„œë²„ ì‹¤í–‰ (ë¦¬ë¡œë“œ ì—†ìŒ)
uvicorn app.main:app --host 0.0.0.0 --port 8000
```

### í”„ë¡œë•ì…˜ í™˜ê²½
```bash
# í”„ë¡œë•ì…˜ ì„œë²„ ì‹¤í–‰ (ì›Œì»¤ 4ê°œ)
uvicorn app.main:app --host 0.0.0.0 --port 8000 --workers 4
```

## ğŸ“Š ë°ì´í„°ë² ì´ìŠ¤ ë§ˆì´ê·¸ë ˆì´ì…˜

### Alembic ì´ˆê¸° ì„¤ì •

```bash
# Alembic ì´ˆê¸°í™”
alembic init alembic

# alembic.ini íŒŒì¼ ì„¤ì •
# sqlalchemy.url = mysql+pymysql://user:password@db:3306/balance_one
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ ëª…ë ¹ì–´

```bash
# ìƒˆë¡œìš´ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒì„±
alembic revision --autogenerate -m "ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ëª…"

# ë§ˆì´ê·¸ë ˆì´ì…˜ ì‹¤í–‰
alembic upgrade head

# ë§ˆì´ê·¸ë ˆì´ì…˜ ë¡¤ë°±
alembic downgrade -1

# ë§ˆì´ê·¸ë ˆì´ì…˜ íˆìŠ¤í† ë¦¬ ì¡°íšŒ
alembic history

# í˜„ì¬ ë§ˆì´ê·¸ë ˆì´ì…˜ ìƒíƒœ í™•ì¸
alembic current
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ êµ¬ì¡°

```
alembic/
â”œâ”€â”€ versions/           # ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼
â”œâ”€â”€ env.py             # ë§ˆì´ê·¸ë ˆì´ì…˜ í™˜ê²½ ì„¤ì •
â”œâ”€â”€ README             # ë§ˆì´ê·¸ë ˆì´ì…˜ ì„¤ëª…
â”œâ”€â”€ script.py.mako     # ë§ˆì´ê·¸ë ˆì´ì…˜ í…œí”Œë¦¿
â””â”€â”€ alembic.ini        # Alembic ì„¤ì • íŒŒì¼
```

### ë§ˆì´ê·¸ë ˆì´ì…˜ ëª¨ë²” ì‚¬ë¡€

1. **ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ëª…ëª… ê·œì¹™**
   - ë‚ ì§œ_ì‹œê°„_ì„¤ëª… í˜•ì‹ ì‚¬ìš© (ì˜ˆ: 20240315_1430_create_user_table)
   - ì„¤ëª…ì€ ëª…í™•í•˜ê³  ê°„ë‹¨í•˜ê²Œ ì‘ì„±

2. **ë°ì´í„° ë§ˆì´ê·¸ë ˆì´ì…˜**
   - ë°ì´í„° ë³€ê²½ì´ í•„ìš”í•œ ê²½ìš° ë³„ë„ì˜ ë§ˆì´ê·¸ë ˆì´ì…˜ íŒŒì¼ ìƒì„±
   - ë¡¤ë°± ê°€ëŠ¥í•œ ë°©ì‹ìœ¼ë¡œ ì‘ì„±

3. **ë§ˆì´ê·¸ë ˆì´ì…˜ ìˆœì„œ**
   - ì™¸ë˜ í‚¤ ì œì•½ì¡°ê±´ì´ ìˆëŠ” í…Œì´ë¸”ì€ ì°¸ì¡°ë˜ëŠ” í…Œì´ë¸” ì´í›„ì— ìƒì„±
   - ì¸ë±ìŠ¤ëŠ” í…Œì´ë¸” ìƒì„± í›„ì— ì¶”ê°€

4. **ë¡¤ë°± ê³ ë ¤ì‚¬í•­**
   - ëª¨ë“  ë§ˆì´ê·¸ë ˆì´ì…˜ì€ ë¡¤ë°± ê°€ëŠ¥í•˜ë„ë¡ ì‘ì„±
   - ë°ì´í„° ì‚­ì œ ì‹œ ë°±ì—… ë°ì´í„° ìƒì„± ê³ ë ¤

## ğŸ“ˆ í¬íŠ¸í´ë¦¬ì˜¤ ìœ í˜• ì„¤ì •

### í¬íŠ¸í´ë¦¬ì˜¤ ìœ í˜• ì •ì˜

1. **ê³µê²©í˜• í¬íŠ¸í´ë¦¬ì˜¤**
   - **ë¦¬ìŠ¤í¬ ì„±í–¥**: ë†’ìŒ
   - **ì£¼ì‹ ë¹„ì¤‘**: 70-80%
   - **ì±„ê¶Œ ë¹„ì¤‘**: 20-30%
   - **íŠ¹ì§•**:
     - ê³ ì„±ì¥ ì£¼ì‹ ìœ„ì£¼
     - ì‹ í¥ ì‹œì¥ ë¹„ì¤‘ ë†’ìŒ
     - ë³€ë™ì„± ë†’ìŒ
     - ì¥ê¸° íˆ¬ì ì§€í–¥

2. **ê· í˜•í˜• í¬íŠ¸í´ë¦¬ì˜¤**
   - **ë¦¬ìŠ¤í¬ ì„±í–¥**: ì¤‘ê°„
   - **ì£¼ì‹ ë¹„ì¤‘**: 50-60%
   - **ì±„ê¶Œ ë¹„ì¤‘**: 40-50%
   - **íŠ¹ì§•**:
     - ëŒ€í˜•ì£¼ ì¤‘ì‹¬
     - ì•ˆì •ì  ë°°ë‹¹ì£¼ í¬í•¨
     - ì ì • ë³€ë™ì„±
     - ì¤‘ì¥ê¸° íˆ¬ì ì§€í–¥

3. **ë°©ì–´í˜• í¬íŠ¸í´ë¦¬ì˜¤**
   - **ë¦¬ìŠ¤í¬ ì„±í–¥**: ë‚®ìŒ
   - **ì£¼ì‹ ë¹„ì¤‘**: 30-40%
   - **ì±„ê¶Œ ë¹„ì¤‘**: 60-70%
   - **íŠ¹ì§•**:
     - ë°°ë‹¹ì£¼ ì¤‘ì‹¬
     - ì±„ê¶Œ ë¹„ì¤‘ ë†’ìŒ
     - ë‚®ì€ ë³€ë™ì„±
     - ë‹¨ê¸° íˆ¬ì ì§€í–¥

### í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± ê·œì¹™

1. **ì„¹í„° ë¶„ì‚°**
   - ë‹¨ì¼ ì„¹í„° ìµœëŒ€ ë¹„ì¤‘: 30%
   - ê´€ë ¨ ì„¹í„° ìµœëŒ€ ë¹„ì¤‘: 50%

2. **ì‹œê°€ì´ì•¡ ë¶„í¬**
   - ëŒ€í˜•ì£¼ (ì‹œê°€ì´ì•¡ 1ì¡°ì› ì´ìƒ): 40-60%
   - ì¤‘í˜•ì£¼ (ì‹œê°€ì´ì•¡ 1ì²œì–µì›-1ì¡°ì›): 30-40%
   - ì†Œí˜•ì£¼ (ì‹œê°€ì´ì•¡ 1ì²œì–µì› ë¯¸ë§Œ): 10-20%

3. **ë¦¬ìŠ¤í¬ ê´€ë¦¬**
   - ê°œë³„ ì¢…ëª© ìµœëŒ€ ë¹„ì¤‘: 10%
   - ë² íƒ€ ê³„ìˆ˜ ì œí•œ: 1.5 ì´í•˜
   - ë³€ë™ì„± ì œí•œ: ì—°ê°„ 20% ì´í•˜

### í¬íŠ¸í´ë¦¬ì˜¤ ë¦¬ë°¸ëŸ°ì‹±

1. **ë¦¬ë°¸ëŸ°ì‹± ì£¼ê¸°**
   - ì •ê¸° ë¦¬ë°¸ëŸ°ì‹±: ë¶„ê¸°ë³„
   - íŠ¹ë³„ ë¦¬ë°¸ëŸ°ì‹±: ì‹œì¥ ë³€ë™ì„± 20% ì´ìƒ

2. **ë¦¬ë°¸ëŸ°ì‹± ê¸°ì¤€**
   - ëª©í‘œ ë¹„ì¤‘ ëŒ€ë¹„ Â±5% ì´ìƒ ì°¨ì´
   - ì‹œì¥ ìƒí™© ê¸‰ë³€ ì‹œ
   - ê°œë³„ ì¢…ëª© íŠ¹ì´ì‚¬í•­ ë°œìƒ ì‹œ

3. **ë¦¬ë°¸ëŸ°ì‹± ì œí•œ**
   - ì—°ê°„ ìµœëŒ€ ë¦¬ë°¸ëŸ°ì‹± íšŸìˆ˜: 4íšŒ
   - ë‹¨ì¼ ì¢…ëª© ìµœëŒ€ ì¡°ì • ë¹„ì¤‘: 5%

### í¬íŠ¸í´ë¦¬ì˜¤ ì„±ê³¼ í‰ê°€

1. **ìˆ˜ìµë¥  ì§€í‘œ**
   - ëˆ„ì  ìˆ˜ìµë¥ 
   - ì—°ê°„ ìˆ˜ìµë¥ 
   - ë³€ë™ì„± ì¡°ì • ìˆ˜ìµë¥  (ìƒ¤í”„ ë¹„ìœ¨)

2. **ë¦¬ìŠ¤í¬ ì§€í‘œ**
   - ë² íƒ€ ê³„ìˆ˜
   - ë³€ë™ì„±
   - ìµœëŒ€ ë‚™í­ (MDD)

3. **ë¶„ì‚° íˆ¬ì ì§€í‘œ**
   - ì„¹í„° ë¶„ì‚°ë„
   - ì‹œê°€ì´ì•¡ ë¶„í¬
   - ìƒê´€ê´€ê³„ ë¶„ì„

## ğŸ“ API ì—”ë“œí¬ì¸íŠ¸

### ì¸ì¦ ê´€ë ¨
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ìš”ì²­ ë³¸ë¬¸ | ì‘ë‹µ |
|--------|------|------|-----------|------|
| POST | `/api/auth/register` | íšŒì›ê°€ì… | ```json { "email": "string", "password": "string", "first_name": "string", "last_name": "string", "portfolio_type": "string" } ``` | ```json { "id": "string", "email": "string", "first_name": "string", "last_name": "string", "portfolio_type": "string", "is_active": true } ``` |
| POST | `/api/auth/login` | ë¡œê·¸ì¸ | ```json { "username": "string", "password": "string" } ``` | ```json { "access_token": "string", "refresh_token": "string", "token_type": "bearer" } ``` |
| POST | `/api/auth/refresh` | í† í° ê°±ì‹  | ```json { "refresh_token": "string" } ``` | ```json { "access_token": "string", "token_type": "bearer" } ``` |

#### ì¸ì¦ API ìƒì„¸ ì„¤ëª…

##### íšŒì›ê°€ì… (`/api/auth/register`)
- ìƒˆë¡œìš´ ì‚¬ìš©ì ê³„ì •ì„ ìƒì„±í•©ë‹ˆë‹¤.
- ì´ë©”ì¼ ì¤‘ë³µ ì²´í¬ë¥¼ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- ë¹„ë°€ë²ˆí˜¸ëŠ” í•´ì‹œí™”í•˜ì—¬ ì €ì¥ë©ë‹ˆë‹¤.
- í¬íŠ¸í´ë¦¬ì˜¤ ìœ í˜•(ê³µê²©í˜•/ê· í˜•í˜•)ì„ ì„ íƒí•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- íšŒì›ê°€ì… ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

##### ë¡œê·¸ì¸ (`/api/auth/login`)
- ì´ë©”ì¼ê³¼ ë¹„ë°€ë²ˆí˜¸ë¡œ ì‚¬ìš©ì ì¸ì¦ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.
- ë¡œê·¸ì¸ ì‹œë„ íšŸìˆ˜ ì œí•œì´ ì ìš©ë©ë‹ˆë‹¤ (30ë¶„ ë‚´ 5íšŒ).
- ì„±ê³µ ì‹œ JWT ì•¡ì„¸ìŠ¤ í† í°ê³¼ ë¦¬í”„ë ˆì‹œ í† í°ì„ ë°œê¸‰í•©ë‹ˆë‹¤.
- ì‹¤íŒ¨í•œ ë¡œê·¸ì¸ ì‹œë„ëŠ” ê¸°ë¡ë©ë‹ˆë‹¤.
- ë¹„í™œì„±í™”ëœ ê³„ì •ì€ ë¡œê·¸ì¸ì´ ë¶ˆê°€ëŠ¥í•©ë‹ˆë‹¤.

##### í† í° ê°±ì‹  (`/api/auth/refresh`)
- ë¦¬í”„ë ˆì‹œ í† í°ì„ ì‚¬ìš©í•˜ì—¬ ìƒˆë¡œìš´ ì•¡ì„¸ìŠ¤ í† í°ì„ ë°œê¸‰í•©ë‹ˆë‹¤.
- ë¦¬í”„ë ˆì‹œ í† í°ì˜ ìœ íš¨ì„±ì„ ê²€ì¦í•©ë‹ˆë‹¤.
- í† í° ê°±ì‹  ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

### ê³„ì¢Œ ê´€ë ¨
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ìš”ì²­ ë³¸ë¬¸ | ì‘ë‹µ |
|--------|------|------|-----------|------|
| POST | `/api/account/deposit` | ì…ê¸ˆ | ```json { "amount": "number", "description": "string" } ``` | ```json { "transaction_id": "string", "amount": "number", "balance": "number", "created_at": "datetime" } ``` |
| POST | `/api/account/withdraw` | ì¶œê¸ˆ | ```json { "amount": "number", "description": "string" } ``` | ```json { "transaction_id": "string", "amount": "number", "balance": "number", "created_at": "datetime" } ``` |
| GET | `/api/account/balance` | ì”ê³  ì¡°íšŒ | - | ```json { "balance": "number", "last_updated": "datetime" } ``` |
| GET | `/api/account/transactions` | ê±°ë˜ ë‚´ì—­ ì¡°íšŒ | - | ```json { "transactions": [{ "id": "string", "type": "string", "amount": "number", "balance": "number", "description": "string", "created_at": "datetime" }], "total_count": "number", "page": "number", "size": "number" } ``` |

#### ê³„ì¢Œ API ìƒì„¸ ì„¤ëª…

##### ì…ê¸ˆ (`/api/account/deposit`)
- ê³„ì¢Œì— ìê¸ˆì„ ì…ê¸ˆí•©ë‹ˆë‹¤.
- ì…ê¸ˆ ê¸ˆì•¡ì€ ì–‘ìˆ˜ì—¬ì•¼ í•©ë‹ˆë‹¤.
- ì…ê¸ˆ ì‹œ í˜„ì¬ ì”ê³ ê°€ í•¨ê»˜ ë°˜í™˜ë©ë‹ˆë‹¤.
- ì…ê¸ˆ ë‚´ì—­ì€ ê±°ë˜ ë‚´ì—­ì— ê¸°ë¡ë©ë‹ˆë‹¤.
- ì…ê¸ˆ ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

##### ì¶œê¸ˆ (`/api/account/withdraw`)
- ê³„ì¢Œì—ì„œ ìê¸ˆì„ ì¶œê¸ˆí•©ë‹ˆë‹¤.
- ì¶œê¸ˆ ê¸ˆì•¡ì€ ì”ê³ ë¥¼ ì´ˆê³¼í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ì¶œê¸ˆ ì‹œ í˜„ì¬ ì”ê³ ê°€ í•¨ê»˜ ë°˜í™˜ë©ë‹ˆë‹¤.
- ì¶œê¸ˆ ë‚´ì—­ì€ ê±°ë˜ ë‚´ì—­ì— ê¸°ë¡ë©ë‹ˆë‹¤.
- ì¶œê¸ˆ ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

##### ì”ê³  ì¡°íšŒ (`/api/account/balance`)
- í˜„ì¬ ê³„ì¢Œ ì”ê³ ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
- ë§ˆì§€ë§‰ ì—…ë°ì´íŠ¸ ì‹œê°„ì´ í•¨ê»˜ ë°˜í™˜ë©ë‹ˆë‹¤.
- ì‹¤ì‹œê°„ ì”ê³  ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.

##### ê±°ë˜ ë‚´ì—­ ì¡°íšŒ (`/api/account/transactions`)
- ê³„ì¢Œì˜ ê±°ë˜ ë‚´ì—­ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì§€ì›ë©ë‹ˆë‹¤ (ê¸°ë³¸ í˜ì´ì§€ í¬ê¸°: 20).
- ê±°ë˜ ìœ í˜•(ì…ê¸ˆ/ì¶œê¸ˆ), ê¸ˆì•¡, ì”ê³ , ì„¤ëª…, ì‹œê°„ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- ì •ë ¬ ë° í•„í„°ë§ì´ ì§€ì›ë©ë‹ˆë‹¤.

### ìë¬¸ ê´€ë ¨
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ìš”ì²­ ë³¸ë¬¸ | ì‘ë‹µ |
|--------|------|------|-----------|------|
| POST | `/api/advisory/request` | ìë¬¸ ìš”ì²­ | ```json { "investment_amount": "number", "risk_tolerance": "string", "investment_period": "number", "preferences": { "sectors": ["string"], "excluded_stocks": ["string"] } } ``` | ```json { "request_id": "string", "status": "string", "created_at": "datetime", "estimated_completion": "datetime" } ``` |
| GET | `/api/advisory/requests` | ìë¬¸ ë‚´ì—­ ì¡°íšŒ | - | ```json { "requests": [{ "id": "string", "status": "string", "investment_amount": "number", "created_at": "datetime", "completed_at": "datetime" }], "total_count": "number", "page": "number", "size": "number" } ``` |
| GET | `/api/advisory/requests/{request_id}` | ìë¬¸ ìƒì„¸ ì¡°íšŒ | - | ```json { "id": "string", "status": "string", "investment_amount": "number", "risk_tolerance": "string", "investment_period": "number", "portfolio": [{ "stock_code": "string", "name": "string", "weight": "number", "price": "number" }], "created_at": "datetime", "completed_at": "datetime", "analysis": "string" } ``` |

#### ìë¬¸ API ìƒì„¸ ì„¤ëª…

##### ìë¬¸ ìš”ì²­ (`/api/advisory/request`)
- ë§ì¶¤í˜• í¬íŠ¸í´ë¦¬ì˜¤ ìë¬¸ì„ ìš”ì²­í•©ë‹ˆë‹¤.
- íˆ¬ì ê¸ˆì•¡, ë¦¬ìŠ¤í¬ ì„±í–¥, íˆ¬ì ê¸°ê°„ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ì„ í˜¸í•˜ëŠ” ì„¹í„°ì™€ ì œì™¸í•˜ê³  ì‹¶ì€ ì¢…ëª©ì„ ì§€ì •í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.
- ìš”ì²­ ì‹œ ì˜ˆìƒ ì™„ë£Œ ì‹œê°„ì´ ì œê³µë©ë‹ˆë‹¤.
- ìë¬¸ ìš”ì²­ ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

##### ìë¬¸ ë‚´ì—­ ì¡°íšŒ (`/api/advisory/requests`)
- ì‚¬ìš©ìì˜ ìë¬¸ ìš”ì²­ ë‚´ì—­ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì§€ì›ë©ë‹ˆë‹¤ (ê¸°ë³¸ í˜ì´ì§€ í¬ê¸°: 20).
- ìš”ì²­ ìƒíƒœ, íˆ¬ì ê¸ˆì•¡, ìƒì„±/ì™„ë£Œ ì‹œê°„ ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- ìƒíƒœë³„ í•„í„°ë§ì´ ì§€ì›ë©ë‹ˆë‹¤.

##### ìë¬¸ ìƒì„¸ ì¡°íšŒ (`/api/advisory/requests/{request_id}`)
- íŠ¹ì • ìë¬¸ ìš”ì²­ì˜ ìƒì„¸ ì •ë³´ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
- ì¶”ì²œëœ í¬íŠ¸í´ë¦¬ì˜¤ êµ¬ì„± ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- ê° ì¢…ëª©ë³„ ë¹„ì¤‘ê³¼ í˜„ì¬ ê°€ê²© ì •ë³´ë¥¼ ì œê³µí•©ë‹ˆë‹¤.
- ìë¬¸ ë¶„ì„ ë‚´ìš©ì´ í¬í•¨ë©ë‹ˆë‹¤.

### ê´€ë¦¬ì ê´€ë ¨
| ë©”ì„œë“œ | ê²½ë¡œ | ì„¤ëª… | ìš”ì²­ ë³¸ë¬¸ | ì‘ë‹µ |
|--------|------|------|-----------|------|
| POST | `/api/admin/stocks` | ì¦ê¶Œ ë“±ë¡ | ```json { "code": "string", "name": "string", "sector": "string", "market_cap": "number", "current_price": "number", "description": "string" } ``` | ```json { "id": "string", "code": "string", "name": "string", "sector": "string", "market_cap": "number", "current_price": "number", "description": "string", "created_at": "datetime" } ``` |
| PUT | `/api/admin/stocks/{stock_id}` | ì¦ê¶Œ ìˆ˜ì • | ```json { "name": "string", "sector": "string", "market_cap": "number", "current_price": "number", "description": "string" } ``` | ```json { "id": "string", "code": "string", "name": "string", "sector": "string", "market_cap": "number", "current_price": "number", "description": "string", "updated_at": "datetime" } ``` |
| DELETE | `/api/admin/stocks/{stock_id}` | ì¦ê¶Œ ì‚­ì œ | - | ```json { "message": "string" } ``` |
| GET | `/api/admin/stocks` | ì¦ê¶Œ ëª©ë¡ ì¡°íšŒ | - | ```json { "stocks": [{ "id": "string", "code": "string", "name": "string", "sector": "string", "market_cap": "number", "current_price": "number", "description": "string" }], "total_count": "number", "page": "number", "size": "number" } ``` |
| GET | `/api/admin/audit-logs` | ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ | - | ```json { "logs": [{ "id": "string", "user_id": "string", "action": "string", "details": "string", "ip_address": "string", "created_at": "datetime" }], "total_count": "number", "page": "number", "size": "number" } ``` |

#### ê´€ë¦¬ì API ìƒì„¸ ì„¤ëª…

##### ì¦ê¶Œ ë“±ë¡ (`/api/admin/stocks`)
- ìƒˆë¡œìš´ ì¦ê¶Œì„ ì‹œìŠ¤í…œì— ë“±ë¡í•©ë‹ˆë‹¤.
- ì¦ê¶Œ ì½”ë“œëŠ” ì¤‘ë³µë  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ì‹œê°€ì´ì•¡, í˜„ì¬ê°€, ì„¹í„° ì •ë³´ë¥¼ í¬í•¨í•©ë‹ˆë‹¤.
- ë“±ë¡ ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

##### ì¦ê¶Œ ìˆ˜ì • (`/api/admin/stocks/{stock_id}`)
- ê¸°ì¡´ ì¦ê¶Œì˜ ì •ë³´ë¥¼ ìˆ˜ì •í•©ë‹ˆë‹¤.
- ì¦ê¶Œ ì½”ë“œëŠ” ìˆ˜ì •í•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ìˆ˜ì • ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

##### ì¦ê¶Œ ì‚­ì œ (`/api/admin/stocks/{stock_id}`)
- ì¦ê¶Œì„ ì‹œìŠ¤í…œì—ì„œ ì‚­ì œí•©ë‹ˆë‹¤.
- ì´ë¯¸ í¬íŠ¸í´ë¦¬ì˜¤ì— í¬í•¨ëœ ì¦ê¶Œì€ ì‚­ì œí•  ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
- ì‚­ì œ ì‹œ ê°ì‚¬ ë¡œê·¸ê°€ ê¸°ë¡ë©ë‹ˆë‹¤.

##### ì¦ê¶Œ ëª©ë¡ ì¡°íšŒ (`/api/admin/stocks`)
- ë“±ë¡ëœ ëª¨ë“  ì¦ê¶Œ ëª©ë¡ì„ ì¡°íšŒí•©ë‹ˆë‹¤.
- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì§€ì›ë©ë‹ˆë‹¤ (ê¸°ë³¸ í˜ì´ì§€ í¬ê¸°: 20).
- ì„¹í„°ë³„, ì‹œê°€ì´ì•¡ë³„ í•„í„°ë§ì´ ì§€ì›ë©ë‹ˆë‹¤.
- ì •ë ¬ ê¸°ëŠ¥ì´ ì§€ì›ë©ë‹ˆë‹¤.

##### ê°ì‚¬ ë¡œê·¸ ì¡°íšŒ (`/api/admin/audit-logs`)
- ì‹œìŠ¤í…œì˜ ëª¨ë“  ê°ì‚¬ ë¡œê·¸ë¥¼ ì¡°íšŒí•©ë‹ˆë‹¤.
- í˜ì´ì§€ë„¤ì´ì…˜ì´ ì§€ì›ë©ë‹ˆë‹¤ (ê¸°ë³¸ í˜ì´ì§€ í¬ê¸°: 20).
- ì‚¬ìš©ìë³„, ì•¡ì…˜ë³„ í•„í„°ë§ì´ ì§€ì›ë©ë‹ˆë‹¤.
- ì‹œê°„ëŒ€ë³„ í•„í„°ë§ì´ ì§€ì›ë©ë‹ˆë‹¤.
- IP ì£¼ì†Œ ì •ë³´ê°€ í¬í•¨ë©ë‹ˆë‹¤.


